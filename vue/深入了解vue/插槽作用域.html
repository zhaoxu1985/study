<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./package/vue.js"></script>
    <style>
        .aa{
            color: orange;
        }
    </style>
</head>

<body>

    <div id="app">
        <test :data='arr'>
            <template slot-scope='test'>    
                <li>{{test.info}}</li>
            </template>
        </test>
    </div>

    <script>
         Vue.component('test1', {
            data: function () {
                return {
                    msg: 0,
                }
            },
            props:['data','arr'],
            template: `
                <div>
                   接收到props
                   <ul>
                       <li v-for="item in arr" :key="item.id" >
                           {{item.label}}
                       </li>
                   </ul>
                </div>
            `,
        })
        //是实例的一个子组件 ，定义此组件之前必须有vue实例
        Vue.component('test', {
            data: function () {
                return {
                    msg: 0,
                    selectValue:'',
                    arr:[
                        {
                            id:1,
                            label:'一般',
                            value:1
                        },
                        {
                            id:2,
                            label:'公开',
                            value:2
                        },
                        {
                            id:3,
                            label:'内部',
                            value:3
                        },
                        {
                            id:4,
                            label:'秘密',
                            value:4
                        },
                        {
                            id:5,
                            label:'机密',
                            value:5
                        },
                        {
                            id:6,
                            label:'绝密',
                            value:6
                        }
                    ]
                }
            },
            props:['data'],
            template: `
                <div>
                    <select v-model="selectValue">
                        <option v-for="item in arr" :value="item.value" :label="item.label" :key="item.id"></option>    
                    </select>
                    <p>我是父组件 <button @click="click">更改</button></p>
                    <p>子组件:</p>
                    <test1 :arr="filterArr"></test1>
                </div>
            `,
            computed:{
                filterArr(){
                    return this.arr.filter(item=>{
                        return this.selectValue<=item.value
                    })
                }
            },
            methods:{
                click(){
                    const filter = this.arr.filter(item=>{
                        return item.value<=2
                    })
                    this.arr = filter
                }
            }
        })
        let v = new Vue({
            el: '#app',
            data:{
                arr:['aaa','bbb','ccc']
            },
            
         
        })
    </script>
</body>

</html>